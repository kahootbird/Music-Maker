<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Kahootbird's Music App </title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  </head>
  <body>
 <div class="container-fluid">
   <div class="row content">
     <div class="col-sm-3 sidenav">
       <h4>Kahootbird's Music App</h4>

       <!--
           <script src="Tone.js">
           -->
           <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.4.9/Tone.js">
         //  import * as Tone from 'tone'
       // }, 3000);


           if (Tone.context.state !== 'running') {
                Tone.context.resume();
            }
             //create a synth and connect it to the main output (your speakers)
             setTimeout(1000,doit)
             function doit() {
           //    if (Tone.context.state !== 'running') {
           //   Tone.context.resume();
           console.log("doit")
          }
             console.log("SYNTH")
             const synth = new Tone.Synth().toDestination();

             //play a middle 'C' for the duration of an 8th note
             synth.triggerAttackRelease("C4", "8n");
         }
           </script>

       <script>
       function doit() {
       console.log("DOIT")
       const synth = new Tone.Synth().toDestination();

       //play a middle 'C' for the duration of an 8th note
       synth.triggerAttackRelease("C3", "16n");
       }

       //attach a click listener to a play button
       //function btnpress()
       //{

       //}

       </script>
       </br></br>
       <!--
       <button >
       START
       </button>
       -->

       <button id="btn">
         activate audiocontext
       </button>
       <button onclick="doit()">
         play sound
       </button>



       <script>
       console.log("btnpress")
       //document.querySelector("btn").addEventListener('click')
       //document.querySelector('btn')?.addEventListener('click', async () => {
       //await Tone.start()
       console.log('audio is ready')
       //})

       const playButton = document.querySelector('button');
       const AudioContext = window.AudioContext || window.webkitAudioContext;
       const audioContext = new AudioContext();


       playButton.addEventListener('click', function() {
       console.log("PLAYBTN")


           // check if context is in suspended state (autoplay policy)
           if (audioContext.state === 'suspended') {
               audioContext.resume();
           }

           // play or pause track depending on state
           if (this.dataset.playing === 'false') {
               audioElement.play();
               this.dataset.playing = 'true';
           } else if (this.dataset.playing === 'true') {
               audioElement.pause();
               this.dataset.playing = 'false';
           }


         }, false);
        </script>





       <ul class="nav nav-pills nav-stacked">

       </ul><br>
       <div class="input-group">

       </div>
     </div>

     <div class="col-sm-9" style="background-color: #c0c0c0">
     </br></br></br></br></br>
      Buttons Here:
      </br>
      <button onclick=start_play()>
      Play
      </button>

      <div class="container">
        <div class="row row-cols-2 row-cols-lg-3">
          <div class="col">Column</div>
          <div class="col">Column</div>
          <div class="col">Column</div>
          <div class="col">Column</div>
          <div class="col">Column</div>
          <div class="col">Column</div>

      </div>


  <script>
  function start_play()
  {
    const synth = new Tone.Synth().toDestination();

    //play a middle 'C' for the duration of an 8th note
    synth.triggerAttackRelease("C4", "8n");
  }
  </script>


     </div>
   </div>
 </div>

 <footer class="container-fluid">
   <p>Footer Text</p>
 </footer>

  </body>
